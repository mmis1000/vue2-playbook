{"version":3,"sources":["webpack:///./src/views/Ajax.vue?b689","webpack:///./src/components/Ajax.vue?8eab","webpack:///src/components/Ajax.vue","webpack:///./src/components/Ajax.vue?5dc4","webpack:///./src/components/Ajax.vue","webpack:///src/views/Ajax.vue","webpack:///./src/views/Ajax.vue?ec3c","webpack:///./src/views/Ajax.vue","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/debounce/index.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","padding","directives","name","rawName","value","expression","attrs","type","domProps","on","input","$event","target","composing","src","_v","_s","text","success","onAjaxFinish","staticRenderFns","Ajaxvue_type_template_id_2940caed_render","Ajaxvue_type_template_id_2940caed_staticRenderFns","Ajaxvue_type_script_lang_js_","props","String","default","data","source","methods","fetch","debounce","url","_this","axios","$axios","get","cancelToken","token","then","res","$emit","catch","thrown","isCancel","cancel","watch","val","old","mounted","beforeDestroy","components_Ajaxvue_type_script_lang_js_","component","Object","componentNormalizer","Ajax","views_Ajaxvue_type_script_lang_js_","components","stringify_default","src_views_Ajaxvue_type_script_lang_js_","Ajax_component","__webpack_exports__","core","__webpack_require__","$JSON","JSON","stringify","module","exports","it","apply","arguments","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","debounced","callNow","clear","clearTimeout","flush"],"mappings":"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","file":"js/ajax.bcf6f99d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"1em\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.src),expression:\"src\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.src)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.src=$event.target.value}}}),_c('pre',[_vm._v(_vm._s(_vm.text))]),_c('Ajax',{attrs:{\"src\":_vm.src},on:{\"success\":_vm.onAjaxFinish}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('link')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <link>\n</template>\n\n<script>\nimport * as debounce from 'debounce'\nimport { CancelToken } from 'axios'\n\nexport default {\n  props: {\n    src: {\n      type: String,\n      default: null\n    }\n  },\n  data () {\n    return {\n      source: null\n    }\n  },\n  methods: {\n    fetch: debounce(function (url) {\n      const source = CancelToken.source()\n      this.source = source\n\n      this.$axios\n        .get(url, {\n          cancelToken: source.token\n        })\n        .then((res) => {\n          this.$emit('success', res)\n        })\n        .catch((thrown) => {\n          if (!this.$axios.isCancel(thrown)) {\n            this.$emit('error', thrown)\n          }\n        })\n    }, 300),\n    cancel () {\n      if (this.source) {\n        this.source.cancel()\n      }\n    }\n  },\n  watch: {\n    src (val, old) {\n      if (val !== old) {\n        if (this.source) {\n          this.source.cancel()\n        }\n\n        if (val != null) {\n          this.fetch(val)\n        }\n      }\n    }\n  },\n  mounted () {\n    if (this.src != null) {\n      this.fetch(this.src)\n    }\n  },\n  beforeDestroy () {\n    if (this.source) {\n      this.source.cancel()\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ajax.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ajax.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ajax.vue?vue&type=template&id=2940caed&\"\nimport script from \"./Ajax.vue?vue&type=script&lang=js&\"\nexport * from \"./Ajax.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"padding: 1em\">\n    <input type=\"text\" v-model=\"src\">\n    <pre>{{text}}</pre>\n    <Ajax :src=\"src\" @success=\"onAjaxFinish\"></Ajax>\n  </div>\n</template>\n\n<script>\nimport Ajax from '@/components/Ajax.vue'\n\nexport default {\n  data () {\n    return {\n      src: '/assets/ajax-test.txt',\n      text: ''\n    }\n  },\n  components: {\n    Ajax\n  },\n  methods: {\n    onAjaxFinish (res) {\n      this.text = typeof res.data === 'string' ? res.data : JSON.stringify(res.data, 0, 4)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ajax.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ajax.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ajax.vue?vue&type=template&id=d06b443e&\"\nimport script from \"./Ajax.vue?vue&type=script&lang=js&\"\nexport * from \"./Ajax.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}