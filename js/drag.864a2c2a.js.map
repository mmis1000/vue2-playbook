{"version":3,"sources":["webpack:///./src/components/RAF.js","webpack:///./src/views/Drag.vue?d181","webpack:///src/views/Drag.vue","webpack:///./src/views/Drag.vue?d24e","webpack:///./src/views/Drag.vue","webpack:///./src/views/Drag.vue?847a"],"names":["name","data","_id","prev","current","Date","now","diff","methods","tick","this","Math","max","$emit","requestAnimationFrame","created","bind","mounted","beforeDestroy","cancelAnimationFrame","render","$scopedSlots","default","$createElement","_vm","_h","_c","_self","staticStyle","_v","directives","rawName","value","expression","modifiers","attrs","domProps","on","$event","target","composing","x","_n","$forceUpdate","y","vx","vy","a","ga","elasticFactor","Array","isArray","grid","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","pause","staticClass","options","onXChange","onYChange","onDragEnd","onDragStart","onTick","staticRenderFns","components","Drag","RequestAnimationFrame","lineX","lineY","user","computed","push","time","val","lastPosX","filter","lastPosY","timeX","timeY","oldVx","oldVy","oldSpeed","component"],"mappings":"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","file":"js/drag.864a2c2a.js","sourcesContent":["export default {\n  name: \"RequestAnimationFrame\",\n  data() {\n    return {\n      _id: null,\n      prev: null,\n      current: Date.now(),\n      diff: null\n    }\n  },\n  methods: {\n    tick() {\n      this.prev = this.current\n      this.current = Date.now()\n      this.diff = Math.max(this.current - this.prev, 8)\n      this.$emit('tick', this.current, this.prev, this.diff)\n      this._id = requestAnimationFrame(this.tick)\n    }\n  },\n  created() {\n    this.tick  = this.tick.bind(this)\n  },\n  mounted() {\n    requestAnimationFrame(this.tick)\n  },\n  beforeDestroy() {\n    cancelAnimationFrame(this._id)\n  },\n  render() {\n    if (this.$scopedSlots.default) {\n      return this.$scopedSlots.default({ \n        current: this.current\n      })[0]\n    } else {\n      return this.$createElement('link')\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"1em\"}},[_c('label',[_vm._v(\" x \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.x),expression:\"x\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.x=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',[_vm._v(\" y \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.y),expression:\"y\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.y=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',[_vm._v(\" vx \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.vx),expression:\"vx\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.vx)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.vx=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',[_vm._v(\" vy \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.vy),expression:\"vy\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.vy)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.vy=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',[_vm._v(\" a \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.a),expression:\"a\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.a)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.a=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',[_vm._v(\" ga \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.ga),expression:\"ga\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.ga)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ga=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',[_vm._v(\" elasticFactor \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.elasticFactor),expression:\"elasticFactor\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.elasticFactor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.elasticFactor=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('br'),_c('label',{attrs:{\"for\":\"with-grid\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.grid),expression:\"grid\"}],attrs:{\"id\":\"with-grid\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.grid)?_vm._i(_vm.grid,null)>-1:(_vm.grid)},on:{\"change\":function($event){var $$a=_vm.grid,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.grid=$$a.concat([$$v]))}else{$$i>-1&&(_vm.grid=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.grid=$$c}}}}),_vm._v(\" Grid Enabled \")]),_c('br'),_c('label',{attrs:{\"for\":\"Pause\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pause),expression:\"pause\"}],attrs:{\"id\":\"Pause\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.pause)?_vm._i(_vm.pause,null)>-1:(_vm.pause)},on:{\"change\":function($event){var $$a=_vm.pause,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.pause=$$a.concat([$$v]))}else{$$i>-1&&(_vm.pause=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.pause=$$c}}}}),_vm._v(\" Pause \")]),_c('br'),_c('drag',{staticClass:\"drag-item\",attrs:{\"left\":_vm.x,\"top\":_vm.y,\"options\":_vm.options},on:{\"update:left\":[function($event){_vm.x=$event},_vm.onXChange],\"update:top\":[function($event){_vm.y=$event},_vm.onYChange],\"dragEnd\":_vm.onDragEnd,\"dragStart\":_vm.onDragStart}},[_vm._v(\"Drag me\")]),_c('RequestAnimationFrame',{on:{\"tick\":_vm.onTick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"padding: 1em\">\n    <label>\n      x\n      <input type=\"number\" v-model.number=\"x\">\n    </label>\n    <br>\n    <label>\n      y\n      <input type=\"number\" v-model.number=\"y\">\n    </label>\n    <br>\n    <label>\n      vx\n      <input type=\"number\" v-model.number=\"vx\">\n    </label>\n    <br>\n    <label>\n      vy\n      <input type=\"number\" v-model.number=\"vy\">\n    </label>\n    <br>\n    <label>\n      a\n      <input type=\"number\" v-model.number=\"a\">\n    </label>\n    <br>\n    <label>\n      ga\n      <input type=\"number\" v-model.number=\"ga\">\n    </label>\n    <br>\n    <label>\n      elasticFactor\n      <input type=\"number\" v-model.number=\"elasticFactor\">\n    </label>\n    <br>\n\n    <label for=\"with-grid\">\n      <input id=\"with-grid\" type=\"checkbox\" v-model=\"grid\">\n      Grid Enabled\n    </label>\n    <br>\n    <label for=\"Pause\">\n      <input id=\"Pause\" type=\"checkbox\" v-model=\"pause\">\n      Pause\n    </label>\n    <br>\n\n    <drag\n      :left.sync=\"x\"\n      :top.sync=\"y\"\n      @update:left=\"onXChange\"\n      @update:top=\"onYChange\"\n      @dragEnd=\"onDragEnd\"\n      @dragStart=\"onDragStart\"\n      :options=\"options\"\n      class=\"drag-item\"\n    >Drag me</drag>\n    <RequestAnimationFrame @tick=\"onTick\"/>\n  </div>\n</template>\n\n<script>\nimport Drag from \"@/components/Drag.vue\";\nimport RequestAnimationFrame from \"@/components/RAF\";\n\nexport default {\n  components: {\n    Drag,\n    RequestAnimationFrame\n  },\n  data() {\n    return {\n      lineX: [],\n      lineY: [],\n      a: -10,\n      ga: 1000,\n      vx: 0,\n      vy: 0,\n      x: 0,\n      y: 0,\n      elasticFactor: 0.9,\n      grid: false,\n      pause: false,\n      user: false\n    };\n  },\n  computed: {\n    /** @returns {Record<string, any>} */\n    options() {\n      return this.grid ? { grid: [20, 20] } : {};\n    }\n  },\n  methods: {\n    onDragStart() {\n      this.user = true\n      this.vx = 0;\n      this.vy = 0;\n    },\n    onXChange(val) {\n      if (!this.user) return;\n      this.lineX.push({\n        time: Date.now(),\n        value: val\n      });\n    },\n    onYChange(val) {\n      if (!this.user) return;\n      this.lineY.push({\n        time: Date.now(),\n        value: val\n      });\n    },\n    onDragEnd() {\n      if (this.grid) return;\n\n      var lastPosX = this.lineX.filter(i => i.time > Date.now() - 200)[0];\n      var lastPosY = this.lineY.filter(i => i.time > Date.now() - 200)[0];\n\n      this.lineX = [];\n      this.lineY = [];\n\n      if (!lastPosX || !lastPosY) return;\n\n      var timeX = Date.now() - lastPosX.time;\n      var timeY = Date.now() - lastPosY.time;\n      \n      this.user = false\n      this.vx = (this.x - lastPosX.value) / (timeX / 1000);\n      this.vy = (this.y - lastPosY.value) / (timeY / 1000);\n    },\n    // eslint-disable-next-line no-unused-vars\n    onTick(now, prev, diff) {\n      if (this.pause || this.grid) return;\n      // if (this.vx === 0 && this.vy === 0) return;\n\n      var oldVx = this.vx;\n      var oldVy = this.vy;\n      var oldSpeed = (oldVx ** 2 + oldVy ** 2) ** 0.5;\n\n      this.x = this.x + (oldVx * diff) / 1000;\n      this.y = this.y + (oldVy * diff) / 1000;\n\n      this.vx =\n        oldSpeed !== 0 \n          ? oldVx * (Math.max(0, oldSpeed + (this.a * diff) / 1000) / oldSpeed)\n          : 0\n      this.vy =\n        oldSpeed !== 0 \n          ? oldVy * (Math.max(0, oldSpeed + (this.a * diff) / 1000) / oldSpeed) + (this.ga * diff) / 1000\n          : (this.ga * diff) / 1000\n\n      if (this.x > 200) {\n        this.x = 400 - this.x;\n        this.vx = -this.vx * this.elasticFactor;\n        if (this.elasticFactor === 0) this.x = 200;\n      }\n\n      if (this.x < -200) {\n        this.x = -400 - this.x;\n        this.vx = -this.vx * this.elasticFactor;\n        if (this.elasticFactor === 0) this.x = -200;\n      }\n\n      if (this.y > 400) {\n        this.y = 800 - this.y;\n        this.vy = -this.vy * this.elasticFactor;\n        if (this.elasticFactor === 0) this.y = 400;\n      }\n      if (this.y < 0) {\n        this.y = -this.y;\n        this.vy = -this.vy * this.elasticFactor;\n        if (this.elasticFactor === 0) this.y = 0;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.drag-item {\n  display: inline-block;\n  width: 100px;\n  height: 40px;\n  border: 2px solid #ccc;\n  line-height: 40px;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Drag.vue?vue&type=template&id=09bc253d&scoped=true&\"\nimport script from \"./Drag.vue?vue&type=script&lang=js&\"\nexport * from \"./Drag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Drag.vue?vue&type=style&index=0&id=09bc253d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09bc253d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drag.vue?vue&type=style&index=0&id=09bc253d&scoped=true&lang=css&\""],"sourceRoot":""}